<!DOCTYPE html>
<!--[if IE 8]>         <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>Node Fish - Login</title>

  <!-- If you are using CSS version, only link these 2 files, you may add app.css to use for your overrides if you like. -->
  <link rel="stylesheet" href="assets/Foundation/css/normalize.css" />
  <link rel="stylesheet" href="assets/Foundation/css/foundation.css" />

  <!-- If you are using the gem version, you need this only -->
  <link rel="stylesheet" href="assets/Foundation/css/app.css" />
  <link rel="stylesheet" href="assets/css/login_page.css"/>

  <script src="assets/Foundation/js/vendor/custom.modernizr.js"></script>
  <script type="text/javascript" src="assets/js/jquery.js"></script>
  <!-- <script type="text/css" src="login_page.js"></script> -->
  <script type="text/javascript">
	$(document).ready(function(){

		$("#register_form").submit(function(){
			var form = $(this);
			$.getJSON(
				form.attr('action'),
				form.serialize(),
				function (result){  
					if (result.success === false){
						var html = "<p>Failed:</p>";
						for (var i = 0; i < result.message.length; i++){
							html += "<p>"+result.message[i]+"</p>";
						}
						$('#register_errors').html(html);
					}
					else {
						var html = "Success: <p>"+result.message+"</p>";
						$('#register_errors').html(html);
					}
				});
			return false;
		});

		$("#login_form").submit(function(){
			var form = $(this);
			$.getJSON(
				form.attr('action'),
				form.serialize(),
				function (result){  
					if (result.success == false){
						var html = "";
						for (var i = 0; i < result.message.length; i++){
							html += "<p>Failed: "+result.message[i]+"</p>";
						}
						$('#login_errors').html(html);
					}
					else {
						window.location = result.location;
					}
				});
			return false;
		});
	});
  </script>

</head>
<body>
	<div id="wrapper">
		<div id="page_headers">
			<div id="non-modals">
				<div id="login_div" class="right"> <!--using foundation modals-->
					<h3 data-reveal-id="login_modal">Login</h3>
				</div> <!--end of login_div-->
				<div id="register_div" class="right"> <!--using foundation modals-->
						<h3 data-reveal-id="register_modal">Register</h3>
				</div> <!--end of register_div-->
			</div> <!--end of non-modals-->
		</div> <!--end of page_headers-->
		<div id="center_content">
			<div id="center_text">
				<div class="row">
					<h1 class="center">Node Fish</h1>
					<h2>Three developers-in-training attempting to learn node.js</h2>
					<div id="about"> <!--uses jquery dropdown instead of foundation modals-->
						<h3 data-dropdown="about_drop">About this project</h3>
						<div id="about_drop" class="f-dropdown content large" data-dropdown-content>
								<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Saepe, beatae, perferendis voluptatem nihil optio aliquid quos magnam quidem dignissimos voluptatibus voluptas praesentium tenetur ipsum sapiente dicta earum maiores reiciendis maxime!</p>
						</div> <!--end of about_drop-->
					</div> <!--end of about-->
				</div><!--end of row-->
			</div> <!--end of center_text-->
		</div> <!--end of center content-->
		<div id="login_modal" class="reveal-modal [medium]">		
			<form id="login_form" action="/login" method="get">
				<div id="login_errors">
					<!--deposit login errors here-->
				</div> <!--end of login_errors-->
				<input type="text" id="login_username" name="login_username" placeholder="Username">
				<input type="password" id="login_password" name="login_password" placeholder="Password">
				<!--change this type to a submit once hooked up to backend-->
				<input type="submit" id="submit" name="submit" value="Login">
			</form>
		</div> <!--end of login_modal-->
		<div id="register_modal" class="reveal-modal [medium]">
			<form id="register_form" action="/register" method="get">
				<div id="register_errors">
					<!--deposit registration errors here-->
				</div> <!--end of register_errors-->
				<input type="text" id="register_username" name="register_username"placeholder="Username">
				<input type="text" id="register_email" name="register_email" placeholder="Email">
				<input type="password" id="register_password" name="register_password" placeholder="Password">
				<input type="password" id="confirm_password" name="confirm_password" placeholder="Confirm Password">
				<!--change this type to a submit once hooked up to backend-->
				<input type="submit" id="submit" name="submit" value="Register">
				<!-- data-reveal-id="register_confirmation"> -->
			</form>
		</div> <!--end of register_modal-->
		<div id="register_confirmation" class="reveal-modal [small]">
			<h3>User Registered!</h3>
		</div> <!--end of register_confirmation-->
	</div> <!--end of wrapper-->



	<script>
  document.write('<script src=' +
  ('__proto__' in {} ? 'assets/Foundation/js/vendor/zepto' : 'assets/Foundation/js/vendor/jquery') +
  '.js><\/script>')
  </script>
  <script src="assets/Foundation/js/foundation/foundation.js"></script>
  <script src="assets/Foundation/js/foundation.alerts.js"></script>
  <script src="assets/Foundation/js/foundation/foundation.clearing.js"></script>
  <script src="assets/Foundation/js/foundation/foundation.cookie.js"></script>
  <script src="assets/Foundation/js/foundation/foundation.dropdown.js"></script>
  <script src="assets/Foundation/js/foundation/foundation.forms.js"></script>
  <script src="assets/Foundation/js/foundation/foundation.joyride.js"></script>
  <script src="assets/Foundation/js/foundation/foundation.magellan.js"></script>
  <script src="assets/Foundation/js/foundation/foundation.orbit.js"></script>
  <script src="assets/Foundation/js/foundation/foundation.placeholder.js"></script>
  <script src="assets/Foundation/js/foundation/foundation.reveal.js"></script>
  <script src="assets/Foundation/js/foundation/foundation.section.js"></script>
  <script src="assets/Foundation/js/foundation/foundation.tooltips.js"></script>
  <script src="assets/Foundation/js/foundation/foundation.topbar.js"></script>
  <script src="assets/Foundation/js/foundation/foundation.interchange.js"></script>
  <script>
    $(document).foundation();
  </script>
</body>
</html>

</body>
</html>